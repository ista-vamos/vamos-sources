import file
import regex

Event Input, Output { x: UInt32 }

let t0 = new [Input] to stdout;
let t1 = new [Output] to stdout;

let f = file.reader("regex1.txt");

foreach line in f.lines() {
    let r = regex.match(line, "([0-9]+):(.)");
    if r.matched() {
      let s1 = r.get(1);
      let s2 = r.get(2);

      yield Input(s1 as UInt32) to t0;
      yield Output(s2 as UInt32) to t1;
    }
}

